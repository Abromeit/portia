{{#tree-list as |list|}}
    {{#list.item hasChildren=sample.items.length as |title-item|}}
        {{#if (eq title-item.section "item")}}
            {{#title-item.text class="title"}}
                Items
            {{/title-item.text}}
            {{title-item.icon icon='add' action=(action 'addItem' sample)}}
        {{else if (eq title-item.section "subtrees")}}
            {{#each sample.items as |item|}}
                {{#unless item.itemAnnotation.parent}}
                    {{#title-item.subtree.annotations-item sample=sample item=item annotationColors=annotationColors as |item-item|}}
                        {{#item-item.link 'projects.project.spider.sample.data.item' item}}
                            {{item-item.icon icon='schema'}}
                            {{item-item.badge value=(or item.itemAnnotation.elements.length 0)}}
                            {{item-item.item-schema selecting=(mut item.new)}}
                            {{item-item.add-annotation-menu}}
                            {{item-item.icon icon='remove' action=(action 'removeItem' item) disabled=(lte sample.items.length 1) bubbles=false}}
                        {{/item-item.link}}
                    {{/title-item.subtree.annotations-item}}
                {{/unless}}
            {{/each}}
        {{/if}}
    {{/list.item}}
{{/tree-list}}
